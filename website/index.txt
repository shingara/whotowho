h1. Whotowho

h1. &#x2192; 'How to assign one person to another'

h2. What

WhoToWho is a simple script to find a random name in a list and
send this name by email. With WhoToWho you can define several things:

 * Mail subject
 * Mail format with 2 parameters (who and towho)
 * SMTP configuration
 * SSL option if your SMTP connection is a Gmail account

h2. History

WhoToWho was first made for my group of friends. For Christmas, we decided to
group up and offer one present for one and only one other person. The present's price is
defined at the stort.

Before WhoToWho, we made a group before the Christmas eve and made the
random choice of who must offer to who with a little paper
in hat.

Now we live in different places and we can&#8217;t see each other every week. So, as we all
have an email account, I created WhoToWho. This way nobody knows who must offer to who and the choice is totally random.

Yes, WhoToWho is useless. But what is really useful anyway?

h2. Features

 * Randomize a list and choose one person for another
 * Send an email to each person to know to whom he or she is assigned
 * Define the subject and the contents of the email with 2 parameters (who and to who)
 * who and to who
 * You may exclude one or several persons for another. With this
   feature, one person can't have another defined person.

h2. Installing

<pre syntax="ruby">sudo gem install whotowho</pre>

h3. Requirement

 * ActionMailer from Ruby On Rails project : <code syntax="ruby">gem install actionmailer</code>

h2. Example

<pre syntax="ruby">
ruby whotowho -m mail-example.txt -s 'a good subject' -f ../data.yaml -c conf.yaml -g
</pre>

h3. Example data file

This file defines the list of names and emails. The format of this file is <abbr class="caps">YAML</abbr>. It&#8217;s the serialization of an Array of an Array in Ruby. Here is an example of the format:

<pre syntax="ruby">
- - name
  - email
- - name2
  - email2
- - name3
  - email3
</pre>

If you want to exclude a person to another you need add an <code>:exclude</code> list after the email, like the following:

<pre syntax="ruby">
- - name
  - email
  - :exclude: - name2
- - name2
  - email2
  - :exclude: - name5
              - name6
- - name3
  - email3
- - name4
  - email4
- - name5
  - email5
- - name6
  - email6
</pre>

h3. Example mail configuration file

It's the same as ActionMailer's. But I have added the ability to add the
"From" field. In order to do so you need to add :from:

<pre syntax="ruby">
:address: Allows you to use a remote mail server. Just change it from its default "localhost" setting.
:port: On the off chance that your mail server doesnâ€˜t run on port 25, you can change it.
:domain: If you need to specify a HELO domain, you can do it here.
:user_name: If your mail server requires authentication, set the username in this setting.
:password: If your mail server requires authentication, set the password in this setting.
:authentication: If your mail server requires authentication, you need to specify the authentication type here. This is a symbol and one of :plain, :login, :cram_md5
:from: Define the email who send all mail in from header
</pre>

h3. Example of email content file

This file is a simple text file. You have two parameters which are changed before the email is sent:

 * #{who} : the name of person who receives the email
 * #{towho} : the name of the person assigned

h2. How to submit patches

The trunk repository is <code>http://whotowho.rubyforge.org/svn/trunk</code>
for anonymous access. You can submit a patch by
"RubyForge":http://rubyforge.org/tracker/?group_id=4883 or by "my own
development platform":http://dev.shingara.fr/

h2. Rdoc

You can consult the Rdoc of this project on the "WhoToWho RDoc
page":http://whotowho.rubyforge.org/rdoc

h2. Thanks

Special Thanks to "Sunny":http://sunfox.org/ to his translation in good english of this page.

h2. License

This code is free to use under the terms of the MIT license. 

h2. Contact

Comments are welcome. Send an email to "Cyril Mougel":mailto:cyril.mougel@gmail.com
